.global _start
_start:
	LDR R12, =0xFF200050
	LDR R0, =0xFF200000
	LDR R1, =0xFFFEC600
	MOV R2, #0x1 //LEDR
	MOV R8, #0x200
	LDR R3, =50000000
	STR R3, [R1]
	MOV R3, #0b11
	STR R3, [R1, #8]
DISPLAY:
	ORR R9, R2, R8
	STR R9, [R0]
WAIT_KEYPRESS:
	LDR R5, [R12]
	CMP R5, #8
	BGE WAIT_KEYPRESS2
WAIT: 
	LDR R4, [R1, #0xC]
	CMP R4, #0
	BEQ WAIT_KEYPRESS
WAIT2:
	STR R4, [R1, #0xC]
	LSL R2, R2, #1
	LSR R8, R8, #1
	CMP R8, #1
	BEQ FIX
	CMP R8, #0x10
	BEQ FIX2
	B DISPLAY
FIX: 
	MOV R2, #0x1 //LEDR
	MOV R8, #0x200
	B DISPLAY
FIX2:
	LSL R2, R2, #1
	LSR R8, R8, #1
	B DISPLAY
WAIT_KEYPRESS2:
	LDR R4, [R1, #0xC]
	CMP R4, #0
	BNE WAIT2
	LDR R5, [R12]
	CMP R5, #8
	BGE WAIT_KEYPRESS2
	LDR R3, [R1, #8]
	EOR R3, R3, #1
	STR R3, [R1, #8]
	B WAIT
.end